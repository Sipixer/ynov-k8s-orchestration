traefik:
  # Configuration des ports
  ports:
    web:
      port: 8000
      exposedPort: 80
      expose:
        default: true
    websecure:
      port: 8443
      exposedPort: 443
      expose:
        default: true
    traefik:
      port: 8080
      expose:
        default: false

  # Service LoadBalancer
  service:
    enabled: true
    type: LoadBalancer
    annotations: {}
    labels: {}
    spec:
      externalTrafficPolicy: Cluster
    loadBalancerSourceRanges: []

  # Dashboard
  ingressRoute:
    dashboard:
      enabled: true
      annotations: {}
      labels: {}

  # Logs
  logs:
    general:
      level: INFO
    access:
      enabled: true

  # Global redirect to HTTPS (optionnel, Ã  activer plus tard)
  # globalArguments:
  #   - "--entrypoints.web.http.redirections.entryPoint.to=websecure"
  #   - "--entrypoints.web.http.redirections.entryPoint.scheme=https"

  # Provider Kubernetes CRD
  providers:
    kubernetesCRD:
      enabled: true
      allowCrossNamespace: true
    kubernetesIngress:
      enabled: true

  # Resources
  resources:
    requests:
      cpu: "100m"
      memory: "128Mi"
    limits:
      cpu: "300m"
      memory: "256Mi"

  # Security Context
  securityContext:
    capabilities:
      drop: [ALL]
      add: [NET_BIND_SERVICE]
    readOnlyRootFilesystem: true
    runAsGroup: 65532
    runAsNonRoot: true
    runAsUser: 65532

  podSecurityContext:
    fsGroup: 65532
